
	<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
	<html>
	<head>
		<title>From Analogue To Digital Effects</title>
		<meta http-equiv="content-type" content="text/html;charset=ISO-8859-1">
		<meta name="robots" content="index,follow">
		<script language="javascript" src="/include/utility.js"></script>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="/news/sosrssfeed.php" />
		<link rel="SHORTCUT ICON" href="/favicon.ico">
		<meta name="description" content="sound on sound, april 2004. when synthesizing sounds, the effects you place after your synth's output are often as important as the synth itself (just think of last month's leslie). as we near the end of synth secrets, we consider how the digital effects processor works.">
<meta name="keywords" content="sound on sound, april 2004. gordon reid, synth secrets 60, from analogue to digital effects, leslie rotary speaker, doppler effect, a korg g4, the electro-harmonix deluxe electric mistress, the mxr flanger/doubler, the small stone phaser, big muff, combinational logic, binary numbers, logic, voltmeter, v0, v1, a 2-input and gate, the or gate, the not gate, nand, nor, xor, xnor, sequential circuit, nand gate, reset, set, programmable memory, indeterminate state, gated rs flip-flop, shift register, jk flip-flop, d flip-flops, 16-bit, 24-bit, 64-bit, bbd, anti-aliasing filter, adc, dac, reconstruction filter, ram, rom.">
<link href="/styles/StyleMac.css" rel="stylesheet" methods="text/css" type="text/css">		<script language="Javascript">
		<!--//
							var iBanner = 0;
				var aryBanner = Array();
				var lastrun = 0;
				var iInterval = 30000;
			
				aryBanner[0] = Array('www.sheetmusicplus.com/a/button.html?id=74020', '/images/adverts/smp468x60genericani.gif', 'Buy your sheet music online! Click here', false);
				aryBanner[1] = Array('www.sounds-expo.co.uk', '/images/adverts/sounds-banner-raz-doe2.gif', 'Sounds Expo! Click here', false);
				//aryBanner[1] = Array('www.surroundexpo.com', '/images/adverts/surround468x60.gif', 'Surround Expo 2005', false);
				if (aryBanner.length > 1) var banTimerID = setTimeout('ChangeBanner()', iInterval);
			
				function ChangeBanner() {
					// Check we're not running this too quickly (Firefox runaway condition)
					var t = new Date();
					thisrun = t.getMinutes() * 60 + t.getSeconds();
					if (thisrun - lastrun < iInterval/1000) return;
					
					iBanner = (iBanner == aryBanner.length - 1) ? 0 : iBanner + 1;
					var page = document.all ? document.all : document;
					page.Banner.src = aryBanner[iBanner][1];
					page.Banner.alt = aryBanner[iBanner][2];

					if (banTimerID) clearTimeout(banTimerID);
					if (aryBanner.length > 1) {
						banTimerID = setTimeout('ChangeBanner()', iInterval);
						lastrun = thisrun;
					}
				}
			
				function GoBanner() {
					OpenSite(aryBanner[iBanner][0]);
					return;
				}
						
							function PrinterFriendly() {
					window.open('http://www.soundonsound.com/sos/apr04/articles/synthsecrets.htm?print=yes&session=dfed35d891616849f922d9457c3ca34a','Win0001','height=500,width=780,scrollbars=yes,resizeable=yes');
				}
				// -->
		</script>
	</head>
	<body topmargin="0" marginheight="0" leftmargin="0" marginwidth="0" onload="ChangeBanner();">
			<SCRIPT language="JavaScript" src="/include/milonic_src.js" type="text/javascript"></SCRIPT>	
		<script	language="JavaScript">
		if(ns4)_d.write('<scr'+'ipt language="JavaScript" src="/include/mmenuns4.js"><\/scr'+"ipt>");		
		  else _d.write("<scr"+'ipt language="JavaScript" src="/include/mmenudom.js"><\/scr'+"ipt>"); 
		</script>
		<SCRIPT language="JavaScript" src="http://www.soundonsound.com/include/menu_data.js.php" type="text/javascript"></SCRIPT>	
		<script language="Javascript">drawMenus();</script>
		<a name="Top"></a>
	<table cellpadding="0" cellspacing="0" border="0" width="99.9%">
	<tr>
		<td style="padding-top: 5px; padding-left: 5px"><a href="http://www.soundonsound.com/index.php?url=/"><img src="/images/nav_logo.gif" width="298" height="66" alt="Sound On Sound : click for home page" border="0" /></a></td>
				<td style="padding-top: 5px; padding-right: 5px" valign="top" align="right"><a href="javascript:GoBanner()"><img name="Banner" src="/images/spacer.gif" height="60" width="468" border="0" alt="" hspace="5" /></a></td>
		</tr>
		<tr>
			<td style="padding-left: 5px; padding-top: 6px" class="navtext"><div id="PageTitle">From Analogue To Digital Effects : <b>April 2004</b></div>
			</td>
			<td style="padding-right: 5px"  align="right"><script language="Javascript">
function GoSearch() {
	var frm = document.forms['minisearch'];
	if (frm.Keyword.value != ' quick search' && frm.Keyword.value != '') {
		frm.submit();
	} else {
		alert('Please type in something to search for!');
	}
}
</script>
<table border="0" cellpadding="1" cellspacing="0" align="right">
<tr>
	<form name="minisearch" action="http://www.soundonsound.com/index.php" method="get">
	<td align="right" valign="middle"><img src="/images/nav_jumpto.gif" alt="jump to" align="absmiddle" border="0">
		<select name="section" size="1" onChange="location.href=(document.forms['minisearch'].section[document.forms['minisearch'].section.selectedIndex].value)">
			<option value="/">Sound On Sound</option>
			<option value="http://www.soundonsound.com/Contents.php">Current Issue</option><option value="http://www.soundonsound.com/news">News</option><option value="http://www.soundonsound.com/subs">Subscribers</option><option value="http://www.soundonsound.com/shop">Shop</option><option value="http://www.soundonsound.com/adverts">Readers Ads</option><option value="http://www.soundonsound.com/articles/People.php">People</option><option value="http://www.soundonsound.com/articles/Technique.php">Technique</option><option value="http://www.soundonsound.com/articles/Reviews.php">Reviews</option><option value="http://www.soundonsound.com/articles/People.php">Music Business</option><option value="http://sound-on-sound2.infopop.net/2/OpenTopic?a=frm&s=215094572&f=041092264">Links</option><option value="http://www.soundonsound.com/competitions">Competition</option><option value="http://www.soundonsound.com/soundbank">SoundBank</option><option value="http://www.soundonsound.com/articles/SoundAdvice.php">Sound Advice</option><option value="http://www.soundonsound.com/forum">Forum</option><option value="http://www.soundonsound.com">Live Sound</option>		</select>
	</td>
	<input type="hidden" name="url" value="/search">
	<td align="right" valign="middle">&nbsp;
		<input type="text" name="Keyword" size="15" value=" quick search" onCLick="if (this.value==' quick search') this.value=''" />
	</td>
	<td align="left" valign="middle"><a href="javascript:GoSearch()"><img src="/images/nav_go.gif" border="0" alt="Go" name="Search" /></a></td>
	</form>
</tr>
</table></td>
		</tr>
		</table>
		
		<table width="99.9%" cellpadding="0" cellspacing="0" border="0" style="padding-left: 5px; padding-right: 5px">
		<tr>
							<td width="156"><img src="/images/spacer.gif" height="17" width="156" border="0" vspace="3" /></td>
						<td width="100%"><img src="/images/spacer.gif" height="17" width="440" border="0" vspace="3" /></td>
			<td width="146"><img src="/images/spacer.gif" height="17" width="146" border="0" vspace="3" /></td>
		</tr>
		<tr>
		<td valign="top" width="156" style="padding-right: 10px; border-right: solid 1px #cccccc"><div class="Small">In this article:</div>
<img src="/images/linkbulletbk.gif" height="7" width="7" hspace="2" /><a class="LeftLink" href="#1">Analogue To Digital</a><br />
<img src="/images/linkbulletbk.gif" height="7" width="7" hspace="2" /><a class="LeftLink" href="#2">Combinational Logic</a><br />
<img src="/images/linkbulletbk.gif" height="7" width="7" hspace="2" /><a class="LeftLink" href="#3">Gates With Memory</a><br />
<img src="/images/linkbulletbk.gif" height="7" width="7" hspace="2" /><a class="LeftLink" href="##">The D &amp; JK Flip-Flops</a><br />
<img src="/images/linkbulletbk.gif" height="7" width="7" hspace="2" /><a class="LeftLink" href="#5">An Audio Delay Line</a><br />
<img src="/images/linkbulletbk.gif" height="7" width="7" hspace="2" /><a class="LeftLink" href="#6">Epilogue</a><br />

<img src="/images/spacer.gif" height="4" width="1" /><br /><hr style="margin-top: 4px; margin-bottom: 8px;border: 0px; border-bottom: solid 1px #cccccc"><div class="smallblacktext"><img src="/images/linkbullet.gif" height="7" width="7" hspace="2"><div style="position: relative; top: -10px; left: 12px"><a class="LeftLink" href="http://www.soundonsound.com/search?url=%2Fsearch&Keyword=%22synth+secrets%22&Words=All&Summary=Yes">SYNTH SECRETS series</a></div><img src="/images/linkbullet.gif" height="7" width="7" hspace="2"><div style="position: relative; top: -10px; left: 12px"><a class="LeftLink" href="javascript:OpenSite('http://www.amazon.co.uk/exec/obidos/external-search/202-5776260-8941447?mode=books&keyword=sound+synthesis&tag=soundonsoundmaga&Go.x=14&Go.y=16')">SOUND SYNTHESIS Books</a></div><div class="WOR">SOS Latest News</div>
<img src="/images/linkbullet.gif" height="7" width="7" hspace="4"><a href="http://www.soundonsound.com/news?NewsID=8104">Focusrite launch Saffire Pro 26 I/O</a><br />
<img src="/images/linkbullet.gif" height="7" width="7" hspace="4"><a href="http://www.soundonsound.com/news?NewsID=8103">New soft synth from Cakewalk</a><br />
<img src="/images/linkbullet.gif" height="7" width="7" hspace="4"><a href="http://www.soundonsound.com/news?NewsID=8102"><i>Wavelab 6</i> special offers</a><br />
<img src="/images/linkbullet.gif" height="7" width="7" hspace="4"><a href="http://www.soundonsound.com/news?NewsID=8101">Buy SOS Premium Content with BT Click&Buy</a><br />
<img src="/images/linkbullet.gif" height="7" width="7" hspace="4"><a href="http://www.soundonsound.com/news?NewsID=8100">Hardware Hammond module from Creamware</a><br />
<a href="http://www.soundonsound.com/search?Section=2">More...</a><form action="/search" method="get" name="NewsSearch">
<input type="hidden" name="Section" value="2" />
<div class="Small" style="margin-top: 5px">News category:</div>
<select class="Small" name="Subject" style="width: 146px" onChange="NewsSearchCat()">
<option value=" ">--All--</option>
<option value="104">Accessory</option>
<option value="105">A-D/D-A Converter</option>
<option value="106">Artists/Engineers/Producers/Programmers</option>
<option value="107">Books/Publications</option>
<option value="172">Classic Tracks</option>
<option value="87">Composing/Arranging</option>
<option value="108">Computer</option>
<option value="109">Computer Recording System</option>
<option value="162">Courses</option>
<option value="159">Distributor</option>
<option value="91">DIY</option>
<option value="110">Drum machine</option>
<option value="163">Duplication</option>
<option value="111">Effects</option>
<option value="92">Effects/Processing</option>
<option value="112">Electronic Drumkit</option>
<option value="173">Events</option>
<option value="113">Expansion Board</option>
<option value="114">Format converter</option>
<option value="115">Guitar Amplifier</option>
<option value="116">Hardware Controller</option>
<option value="117">Hardware Sequencer</option>
<option value="118">Industry/Music Biz</option>
<option value="119">Keyboard</option>
<option value="120">Keyboard workstation</option>
<option value="170">Live Sound</option>
<option value="158">Manufacturer</option>
<option value="157">Mastering</option>
<option value="121">Microphone</option>
<option value="122">MIDI Controller</option>
<option value="123">MIDI File Player/Recorder</option>
<option value="124">MIDI Interface</option>
<option value="125">Miscellaneous</option>
<option value="155">Miking Techniques</option>
<option value="126">Mixer</option>
<option value="127">Modular Synth</option>
<option value="168">Monitor Controller</option>
<option value="128">Monitors</option>
<option value="94">Multimedia</option>
<option value="129">Multitrack Recorder</option>
<option value="90">Music Business</option>
<option value="161">Music Sites</option>
<option value="130">Patchbay</option>
<option value="131">PC Soundcard</option>
<option value="132">PC/Mac Soundcard</option>
<option value="154">Plug-ins</option>
<option value="133">Preamp</option>
<option value="156">Processing</option>
<option value="134">Processor</option>
<option value="169">Recording Channel</option>
<option value="135">Recording System</option>
<option value="95">Recording/Mixing</option>
<option value="164">Repair services</option>
<option value="136">Sample Shop</option>
<option value="137">Sampler</option>
<option value="96">Sampling</option>
<option value="138">Sampling Workstation</option>
<option value="97">Sequencing & MIDI Controllers</option>
<option value="139">Sequencing Workstation</option>
<option value="160">Services</option>
<option value="140">Software</option>
<option value="85">SOS announcement</option>
<option value="141">Sound Module</option>
<option value="142">Sound/Song Library</option>
<option value="143">Speaker Simulator</option>
<option value="144">Stereo Recorder</option>
<option value="145">Studio Power Amplifier</option>
<option value="146">Synchroniser</option>
<option value="98">Synthesis</option>
<option value="99">Theory + Technical</option>
<option value="153">VST Instruments</option>
<option value="152">VST plug-ins</option>
	</select>
</select>
</div>
</form>
<script language="Javascript">
function NewsSearchCat() {
	var frm = document.forms['NewsSearch'];
	if (frm.Subject[frm.Subject.selectedIndex].value != ' ') frm.submit();
}
</script><br /><img src="/images/linkbullet.gif" height="7" width="7" hspace="2"><div style="position: relative; top: -10px; left: 12px"><a class="LeftLink" href="http://www.soundonsound.com/berklee/music.php"><hr><b>Learn Music Production</b> Study Online with Berklee College of Music<hr></a></div><img src="/images/linkbullet.gif" height="7" width="7" hspace="2"><div style="position: relative; top: -10px; left: 12px"><a class="LeftLink" href="http://www.soundonsound.com/forum">WANT MORE TIPS & TECHNIQUE INFO? Visit the SOS FORUM</a></div><img src="/images/linkbullet.gif" height="7" width="7" hspace="2"><div style="position: relative; top: -10px; left: 12px"><a class="LeftLink" href="http://www.soundonsound.com/search?&url=%2Fsearch&Section=15&Summary=Yes&Articles=Search+Articles">SOS SOUND ADVICE Tips</a></div><img src="/images/linkbullet.gif" height="7" width="7" hspace="2"><div style="position: relative; top: -10px; left: 12px"><a class="LeftLink" href="http://www.soundonsound.com/information/Glossary.php">GLOSSARY: Tech Terms explained</a></div><br /></div></td><td style="padding-left: 20px; padding-right: 20px; padding-top:10px" valign="top"><div class="TitleBox"><div class="MainTitle" style="float:left">From Analogue To Digital Effects</div><div style="clear:left" class="SubTitle">Synth Secrets</div><div class="Published" style="float:right">Published in SOS  April 2004<br /><a href="javascript:PrinterFriendly()"><img src="/images/PrintIcon.gif" height="14" width="14" border="0" alt="Printer-friendly version" /> Printer-friendly version</a></div><div class="SectionSubject" style="float:left">Technique : Synthesis</div></div><div style="width: 100%; height: 28px;">&nbsp;</div>


<p><div class="introtext">When synthesizing sounds, the effects you place <em>after</em> your synth's output are often as important as the synth itself (just think of last month's Leslie). As we near the end of Synth Secrets, we consider how a digital effects processor works.</div></p>
<p><div class="author">Gordon Reid</div></p>
<p class="bodytext">Last month, as part of the final push to synthesize the effects of the Leslie rotary speaker, I introduced the bucket-brigade device (or BBD) delay line and showed how we could attempt to use this to assist the simulation. I then showed that, while possible, this was not practical. In fact, because of space considerations, I omitted a number of secondary factors that make analogue recreations of the Leslie less than satisfactory. For example, the spatial amplitude response of the horn assembly is not smooth, so the volume of the sound 'wobbles' as lobes of loudness and quietness rotate past your ears. What's more, this response is frequency-dependent, meaning that there are independent amplitude modulations occurring for each frequency in the signal. Then there's the bass rotor... Due to its limited size, this is not effective at frequency-modulating low-frequency signal components so, unlike the horn, it is more a source of amplitude modulation ('tremolo') than frequency modulation.</p>
<table width="416" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td><a href="../images/fig01antialiasdelay.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig01antialiasdelay.s.jpg" border="0" alt="Fig 01 - anti-alias delay" border="0"></a>
<div class="caption">Figure 1: A simple eight-stage bucket-brigade device (or BBD) delay line.</div>
</td>
</tr>
</table>
<p class="bodytext">All in all, it's little wonder that I gave up on my quest for the 'Analogue Leslie' and sent you away to find a Korg G4 or some other low-cost digital Leslie simulator. Admittedly, there are many simpler effects for which the perceived 'warmth' of analogue electronics is a bonus. </p>
<table width="216" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td><a href="../images/fig02digitalv.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig02digitalv.s.jpg" border="0" alt="Fig 02 - digital V" border="0"></a>
<div class="caption">Figure 2: The nature of a digital system.</div>
</td>
</tr>
</table>
<p class="bodytext">For example, I don't think that anybody has improved upon the Electro-harmonix Deluxe Electric Mistress or MXR Flanger/Doubler, and even low-cost stomp boxes such as the Small Stone phaser and Big Muff occupy a unique place... often emulated, but only equalled if copied almost component for component. Nevertheless, for emulations of rotary speakers and the creation of new and esoteric effects, digital electronics is king. So, given that we're now nearing the end of our journey through the world of synthesis &mdash; from oscillators and filters at one end to the effects at the other &mdash; I think that it's time to introduce the fundamental electronic concepts that make digital audio possible.</p>
<p><a name="1"></a>
<div class="Footer" style="float: left;"><a href="#Top"><img src="/images/arttop.gif" border="0" alt="Top of page"></a></div>

<div class="xhead" id="1">Analogue To Digital</div></p>
<table width="216" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td><a href="../images/fig03and.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig03and.s.jpg" border="0" alt="Fig 03 - AND" border="0"></a>
<div class="caption">Figure 3: An AND gate. Note that the gate symbols I have used in this article are a mixture of traditional British and American standards. You may encounter others elsewhere.</div>
</td>
</tr>
</table>
<p class="bodytext">We'll start by returning to the BBD that I explained last month, and which I've recreated in Figure 1 (below). This shows a signal entering the delay line through an anti-aliasing filter on the left of the diagram, passing through each stage in turn, and then exiting through the reconstruction filter on the right. The length of delay is determined by just two factors; the number of BBD stages and the speed of the clock driving the switches shown in red and green.</p>
<p class="bodytext">As we'll see, the elements that make up the digital equivalent of the analogue delay line are very similar in function. The principles at work in the BBD &mdash; of storing a slice of the incoming signal, holding it, and passing it down a line of identical, signal-storing components at a rate determined by a clock &mdash; are the same, although of course the means of storing the incoming signal is different. Instead of the signal being stored as a voltage in a capacitor at each stage of the BBD, it's a digital representation of the signal that is stored and processed, a binary number consisting of a string of ones and zeroes.</p>
<p class="bodytext">In order for this to be possible, the input signal has to pass through an analogue-to-digital converter (ADC) as it goes into the effect units. Most of us are now familiar with the concept of how one of these works; the instantaneous signal voltage is measured at intervals determined by the sampling rate (every 1/44100th of a second for CD-quality audio), then that voltage measurement is converted into a binary number composed of bits (the number of digits in the binary number). The greater the number of bits, the higher the resolution of the signal measurement, and all other things being equal, this will enable you to represent the analogue voltage with smaller errors. CD-quality audio is 16-bit, so the voltage measurements are stored as strings of 16 digits, all of which are either a zero or a one.</p>
<table width="207" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<p class="bodytext">
<TABLE BORDER=0 CELLSPACING=2 ALIGN="LEFT">
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext">INPUT Y</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext">0</TD>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">INPUT X</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext"></TD>
<td class="tabletext">0</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
</TR>
</TABLE>
</p>
</td>
</tr>
</table>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<div class="caption">Table 1: The truth table for a two-input AND gate.</div>
</td>
</tr>
</table>
<table width="186" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<TABLE BORDER=0 CELLSPACING=2 ALIGN="LEFT">
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext">INPUT Y</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext">0</TD>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">INPUT X</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
<td class="tabletext">1</TD>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
</TR>
</TABLE>
</td>
</tr>
</table>
<table width="186" border="0" cellspacing="4" cellpadding="4">
<tr>
<td width="170">
<div class="caption">Table 2: The truth table for a two-input OR gate.</div>
</td>
</tr>
</table>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<TABLE BORDER=0 CELLSPACING=2 ALIGN="LEFT">
<TR VALIGN=TOP>
<td class="tabletext">INPUT</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
</TR>
</TABLE>
</td>
</tr>
</table>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<div class="caption">Table 3: The truth table for a two-input NOT gate.</div>
</td>
</tr>
</table>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<TABLE BORDER=0 CELLSPACING=2 ALIGN="LEFT">
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext">INPUT Y</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext">0</TD>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">INPUT X</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
<td class="tabletext">1</TD>
<td class="tabletext"></TD>
<td class="tabletext">0</TD>
</TR>
</TABLE>
</td>
</tr>
</table>
<table width="191" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<div class="caption">Table 4: The truth table for a two-input NAND gate.</div>
</td>
</tr>
</table>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<TABLE BORDER=0 CELLSPACING=2 ALIGN="LEFT">
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext">INPUT Y</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext">0</TD>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">INPUT X</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
<td class="tabletext"></TD>
<td class="tabletext">0</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
<td class="tabletext"></TD>
<td class="tabletext">0</TD>
</TR>
</TABLE>
</td>
</tr>
</table>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<div class="caption">Table 5: The truth table for a two-input NOR gate.</div>
</td>
</tr>
</table>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<TABLE BORDER=0 CELLSPACING=2 ALIGN="LEFT">
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext">INPUT Y</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext">0</TD>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">INPUT X</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
<td class="tabletext">1</TD>
<td class="tabletext"></TD>
<td class="tabletext">0</TD>
</TR>
</TABLE>
</td>
</tr>
</table>
<table width="191" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<div class="caption">Table 6: The truth table for a two-input XOR gate.<BR>
</div>
</td>
</tr>
</table>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<TABLE BORDER=0 CELLSPACING=2 ALIGN="LEFT">
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext">INPUT Y</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext"></TD>
<td class="tabletext">0</TD>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">INPUT X</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
<td class="tabletext"></TD>
<td class="tabletext">0</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
<td class="tabletext"></TD>
<td class="tabletext">1</TD>
</TR>
</TABLE>
</td>
</tr>
</table>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<div class="caption">Table 7: The truth table for a two-input XNOR gate.</div>
</td>
</tr>
</table>
</td>
</tr>
</table>
<p class="bodytext">I'm now going to explain what happens to a single one of those bits in a digital delay line &mdash; just one of the digits that makes up the binary measurement of the original analogue signal in one sample. In short, it passes through the digital equivalent of the BBD, which is known as a 'shift register', and which is itself constructed from devices called logic gates. However, to understand how a shift register works, we must first take a diversion into the fundamental nature of binary numbers and logic. Hold onto your hat... this is going to take us into a fascinating realm of technology not yet plumbed by Synth Secrets. If you'd rather not have your hat disturbed by the finer points of how logic gates and shift registers work, you can skip ahead to the heading 'An Audio Delay Line', on page 130.</p>
<p><a name="2"></a>
<div class="Footer" style="float: left;"><a href="#Top"><img src="/images/arttop.gif" border="0" alt="Top of page"></a></div>

<div class="xhead" id="2">Combinational Logic</div></p>
<p class="bodytext">Firstly, it's all very well to say that the analogue signal is converted by the ADC into a string of ones and zeroes, but what does that actually mean? After all, how does a '1' or a '0' pass through an electronic circuit? Well, perhaps strangely, given that the input signal started off as a voltage, the zeros and ones that make up a 16-bit sample are also voltages, albeit used differently. In this case, any voltage above a predetermined level 'v1' is said to be a '1', while a voltage below another predetermined level 'v0' is said to be a '0' (see Figure 2, below).</p>
<p class="bodytext">Actually, this is an idealised view, and to make such a system work, the change from '0' to '1' generally occurs when the voltage passes from below v1 to above v1, and a transition from '1' to '0' occurs when the voltage drops from above v0 to below v0. So the 16-bit numbers that are output at each clock step of the ADC are represented by 16 voltages passing through the effects unit, each of which is understood by the circuits through which it passes as a '1' or a '0'. And what are these circuits? As I said earlier, they're logic gates, whose operation is predicated on their ability to determine whether their inputs are in one state or another: zero or one.</p>
<p class="bodytext">One of the simplest forms of logic gate is a device called the two-input AND gate, which I've represented in Figure 3 (left), and whose operation I have described in the 'truth table' shown below. If you look at this, you'll see that both the level presented to input 'X' <em>and</em> the level presented to input 'Y' must be '1' for the output of the device to be a '1'. Any other combination results in an output of '0'. The circuitry required to do this is remarkably simple, but explaining it would take us off into transistor electronics, which is not where I want to go, so we'll say no more about it here.</p>
<p class="bodytext">There are numerous other types of logic gate. For example, there's the OR gate, which, in its two-input form, produces a '1' when either of X <em>or</em> Y are '1' (see Figure 4, below).</p>
<p class="bodytext">Next comes the NOT gate, or 'inverter' which has a single input, and produces a '0' when the input is '1', and <em>vice versa</em> (see Figure 5 below).</p>
<p class="bodytext">If you consider the action of an AND followed by a NOT, it follows that there is another device, called a NAND gate, that responds to the logic 'and not', meaning that a '1' is output when [input X <em>and</em> input Y] is <em>not</em> '1' (see Figure 6, above).</p>
<table width="232" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td>
<table width="216" border="0" cellspacing="4" cellpadding="4">
<tr>
<td><a href="../images/fig04or.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig04or.s.jpg" border="0" alt="Fig 04 - OR" border="0"></a>
<div class="caption">Figure 4: The OR gate.</div>
</td>
</tr>
</table>
<table width="216" border="0" cellspacing="4" cellpadding="4">
<tr>
<td width="200"><a href="../images/fig05not.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig05not.s.jpg" border="0" alt="Fig 05 - NOT" border="0"></a>
<div class="caption">Figure 5: The NOT gate.</div>
</td>
</tr>
</table>
<table width="216" border="0" cellspacing="4" cellpadding="4">
<tr>
<td><a href="../images/fig06nand.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig06nand.s.jpg" border="0" alt="Fig 06 - NAND" border="0"></a>
<div class="caption">Figure 6: The NAND gate.</div>
</td>
</tr>
</table>
<table width="215" border="0" cellspacing="4" cellpadding="4">
<tr>
<td width="200"><a href="../images/fig07nor.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig07nor.s.jpg" border="0" alt="Fig 07 - NOR" border="0"></a>
<div class="caption">Figure 7: The NOR gate.</div>
</td>
</tr>
</table>
<table width="216" border="0" cellspacing="4" cellpadding="4">
<tr>
<td><a href="../images/fig08xor.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig08xor.s.jpg" border="0" alt="Fig 08 - XOR" border="0"></a>
<div class="caption">Figure 8: The XOR gate.</div>
</td>
</tr>
</table>
<table width="216" border="0" cellspacing="4" cellpadding="4">
<tr>
<td><a href="../images/fig09xnor.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig09xnor.s.jpg" border="0" alt="Fig 09 - XNOR" border="0"></a>
<div class="caption">Figure 9: The XNOR gate.</div>
</td>
</tr>
</table>
</td>
</tr>
</table>
<p class="bodytext">Likewise, there is a NOR gate which acts as an OR followed by a NOT (see Figure 7, below).</p>
<p class="bodytext">Next, there's the XOR ('exclusive OR') gate, which produces a '1' when <em>either</em> X <em>or</em> Y are '1', but not when both are '1' (see Figure 8, below).</p>
<p class="bodytext">Finally, there's the XNOR, which is the inverse of the XOR. This outputs '1's when the inputs are both '0' or both '1', but not otherwise (see Figure 9, below).</p>
<p class="bodytext">Once you have these seven devices at your disposal, you can design anything from a simple logic switch to the most complex computer. You don't even need all seven types because, with just AND, NOT and OR, you can derive all the others. Although this may not be the most efficient way to obtain a given result, it means that many complex problems can be reduced to a simpler form.</p>
<p><a name="3"></a>
<div class="Footer" style="float: left;"><a href="#Top"><img src="/images/arttop.gif" border="0" alt="Top of page"></a></div>

<div class="xhead" id="3">Gates With Memory</div></p>
<p class="bodytext">What we have discussed so far is called 'combinational logic' because the inputs at any moment determine the values of the outputs. In other words, individual gates and many of the systems developed from them have no 'memory'.</p>
<p class="bodytext">Fortunately, we can build a 'sequential circuit' &mdash; one whose output is not only dependent upon the current inputs but also on <em>past</em> inputs &mdash; by connecting the outputs of two NAND gates to each other's inputs. This forms a feedback loop that, for a given set of inputs, snaps into one state or another, and then holds this state after the inputs are removed. The circuit thus formed is known as a flip-flop.</p>
<p class="bodytext">How does it work? Well, consider two NAND gates connected as shown in Figure 10 (below). This configuration is called an RS flip-flop, where the letters 'R' and 'S' stand for Reset and Set. (This circuit is also called an SR flip-flop, and we can draw it in different ways, but the logic is always the same.)</p>
<p class="bodytext">Imagine that the R and S inputs in Figure 10 are both '1'. If we then apply a '0' to the R input the output 'Q' will be forced to be a '1'. Conversely, if we apply a '0' to the S input, the output will be forced to be a '0'. Does this sound like gobbledygook? If so, let's work out what's happening. We'll start by considering the two possible initial states for the system when both R and S are '1'.</p>
<p class="bodytextbullet"><span class="pcsibullet"><img src="../../../images/pcsBullet.gif" align="absmiddle" border="0"></span>Firstly, then, if the input 'A' on the upper NAND gate is a '0', the output Q must be a '1'. You can check this by looking back as the NAND truth table (in Table 4 on page 126) if you like. Sure enough, if one of the inputs to the gate is a '0', then irrespective of what the other input is, the output has to be a '1'. This means that the fed-back input to 'B' must also be a '1'. Consequently, both the lower inputs 'S' and 'B' are '1', so the output Q&#173;   (which means the opposite of Q), reading from Table 4 again, is a '0'.  Q&#173;   is, of course, the '0' fed back to the 'A' input on the upper gate, so the logic of the system is self-consistent.</p>
<p class="bodytextbullet"><span class="pcsibullet"><img src="../../../images/pcsBullet.gif" align="absmiddle" border="0"></span>The other possibility is that we could have A= '1' alongside the R= '1' input, in which case Q must be '0', and Q&#173;   must be '1'. Either way, the logic works, and the system is stable.</p>
<p class="bodytext">Now, if we apply a '0' pulse at the R input, we create a situation where it doesn't matter whether A is '0' or '1'... The output Q must become a '1', and we say that it has been Reset. With S= '1' and B = '1', Q&#173;   must be a '0', so we now know that 'A' must be a '0'. The logic is consistent and unambiguous, and the system has a single, stable output state.</p>
<p class="bodytext">The interesting thing about this logic system is that the Reset pulse can be very brief; if the input at R returns from '0' to '1' again, Q remains '1' and Q&#173;   remains a '0'.</p>
<p class="bodytext">Once the system has been </p>
<table width="216" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td><a href="../images/fig10rsflipflop.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig10rsflipflop.s.jpg" border="0" alt="Fig 10 - RS flip flop" border="0"></a>
<div class="caption">Figure 10: The RS Flip-flop.</div>
</td>
</tr>
</table>
<p class="bodytext">Reset in this way, the one thing that changes the output state is a 'Set' pulse of '0' applied to the S input. With S= '0' and B= '1', the output<br>
Q&ndash; becomes a '1', and Q becomes '0'. And, as with the Reset pulse, the Set pulse can be as brief as you like. Once flipped into this state, the flip-flop's outputs remain constant until Reset again.</p>
<p class="bodytext">It should now be clear how the RS flip-flop came by its name. As long as R and S are not pulsed to '0' at the same time (which makes the outputs indeterminate) the device flips and flops between two stable states.</p>
<p class="bodytext">If we're to make the RS flip-flop useful, the next thing we need to do is to ensure that the device only flips (or flops) at specific times. We do </p>
<table width="216" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td><a href="../images/fig11gatedrsff.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig11gatedrsff.s.jpg" border="0" alt="Fig 11 - gated RS ff" border="0"></a>
<div class="caption">Figure 11: The Gated RS flip-flop.</div>
</td>
</tr>
</table>
<p class="bodytext">this by adding a clock input and another couple of NAND gates, as shown in Figure 11 (below). This device is called a Gated RS flip-flop, and it should be obvious from the NAND truth table that the levels at the inputs X and Y can only affect R and S (and, therefore, the outputs Q and Q&ndash; ) if the clock pulse &mdash; which is sometimes referred to as 'Enable' &mdash; is a '1'. If, instead, the clock is a '0', the output from the gates with the X and Y inputs will always be '1', irrespective of what X and Y are.</p>
<p class="bodytext">Now, without stepping through all the possible logic levels as I did for the basic RS flip-flop, I can write the truth table for the Gated RS flip-flop, as shown in Table 8 (below). This is a little more complex than before, because we have to consider not only what happens at R and S, but how this is affected by the inputs X and Y. On the table, Qn simply means 'whatever Q is after an arbitrary number of clock pulses'. The table then shows that, with X='0' and Y= '0', the output is the same as it was after the clock's previous pulse, whether that was a '0' or a '1'. It doesn't matter whether the output Q is a '0' or a '1'; provided that X and Y are both '0', it remains unchanged for all subsequent clock pulses. However, we can load another 'bit' of information at any future time by applying a '1' at X or Y, as appropriate. <em>Unlike combinational logic systems, the Gated RS flip-flop possesses a programmable memory!</em></p>
<table width="206" border="0" cellspacing="4" cellpadding="4" align="right"><tr><td><table width="190" border="0" cellspacing="4" cellpadding="4"><tr><td>
<TABLE BORDER=0 CELLSPACING=2 ALIGN="LEFT"><TR VALIGN=TOP><td class="tabletext">X</TD><td class="tabletext">Y</TD><td class="tabletext">R</TD><td class="tabletext">S</TD><td class="tabletext">Qn</TD></TR>
<TR VALIGN=TOP><td class="tabletext">0</TD><td class="tabletext">0</TD><td class="tabletext">1</TD><td class="tabletext">1</TD><td class="tabletext">Q at previous clock pulse</TD></TR>
<TR VALIGN=TOP><td class="tabletext">1</TD><td class="tabletext">0</TD><td class="tabletext">0</TD><td class="tabletext">1</TD><td class="tabletext">1</TD></TR>
<TR VALIGN=TOP><td class="tabletext">0</TD><td class="tabletext">1</TD><td class="tabletext">1</TD><td class="tabletext">0</TD><td class="tabletext">0</TD></TR>
<TR VALIGN=TOP><td class="tabletext">1</TD><td class="tabletext">1</TD><td class="tabletext">0</TD><td class="tabletext">0</TD><td class="tabletext">? (indeterminate)</TD></TR></TABLE>
</td></tr></table>
<table width="190" border="0" cellspacing="4" cellpadding="4"><tr><td><div class="caption">Table 8: The Gated RS flip-flop truth table.</div></td></tr></table>
</td></tr></table><p>
<a name="4"></a>
<div class="Footer" style="float: left;"><a href="#Top"><img src="/images/arttop.gif" border="0" alt="Top of page"></a></div>

<div class="xhead" id="#">The D &amp; JK Flip-Flops</div></p>
<p class="bodytext">By this point, I imagine that you have either given up trying to understand what's happening, or you've jumped out of the bath yelling 'by Jove, I think I've got it!'. Nevertheless, we must discuss a couple more steps before we can talk about digital audio and delay lines.</p>
<table width="216" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td><a href="../images/fig12dff.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig12dff.s.jpg" border="0" alt="Fig 12 - D ff" border="0"></a>
<div class="caption">Figure 12: The D flip-flop.</div>
</td>
</tr>
</table>
<p class="bodytext">Firstly, we have to get rid of the indeterminate state that exists when both the X and Y inputs in the Gated RS flip-flop truth table are '1'. It's simple to correct this: we redesign the device so that it has just one input, called 'D' (for Data) as shown in Figure 12 (on the next page).</p>
<p class="bodytext">Unfortunately, while the inverter on the inputs ensures that the indeterminate '1,1' state can never occur, it also means that the '0,0' state that holds the bit of information until reprogrammed is also impossible. That's not to say that the D flip-flop has no applications... far from it, because, whenever the clock is '1', the output 'Q' takes the </p>
<table width="216" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td><a href="../images/fig13jkff.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig13jkff.s.jpg" border="0" alt="Fig 13 - JK ff" border="0"></a>
<div class="caption">Figure 13: The JK flip-flop.</div>
</td>
</tr>
</table>
<p class="bodytext">value at 'D' and holds it until the next clock pulse. As you will see, there are many uses for this, but if we want a programmable memory <em>without</em> the indeterminate state, we must take a final step in our journey into the world of digital logic, with the introduction of the JK flip-flop (see Figure 13, below).</p>
<p class="bodytext">This device introduces the concept of three-input NAND Gates, with the truth table shown in Table 9 below. As you can see, this is just an extension of the table shown in Figure 4, and we could extend this further for any number of inputs we desired.</p>
<p class="bodytext">The input names 'J' and 'K' </p>
<table width="207" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<TABLE BORDER=0 CELLSPACING=2 ALIGN="LEFT">
<TR VALIGN=TOP>
<td class="tabletext">X</TD>
<td class="tabletext">Y</TD>
<td class="tabletext">Z</TD>
<td class="tabletext">Q</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
<td class="tabletext">1</TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">1</TD>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">1</TD>
<td class="tabletext">1</TD>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
</TR>
</TABLE>
</td>
</tr>
</table>
<table width="191" border="0" cellspacing="4" cellpadding="4">
<tr>
<td width="175">
<div class="caption">Table 9: The truth table for the three-input NAND gate.</div>
</td>
</tr>
</table>
</td>
</tr>
</table>
<p class="bodytext">don't have any significance, but the meanings of the 'R' and 'S' inputs remain unchanged. To Reset the single bit of memory in the device to '1', you need only apply a brief '0' pulse to the R input. To Set the memory to '0', apply a brief '0' pulse to S. With R and S both set to '1', the truth table in Table 10 applies. Again, I don't propose to step through every possible logic state to prove this, but if you get a piece of A4 and a very sharp pencil, you should be able to derive it for yourself.</p>
<p class="bodytext">The great thing about the JK is that it not only removes the ambiguous state from the Gated RS flip-flop's truth table, it </p>
<p class="bodytext">converts it into something useful: a toggle from the existing output value to the next one.</p>
<table width="208" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<p>
<TABLE BORDER=0 CELLSPACING=2 ALIGN="LEFT">
<TR VALIGN=TOP>
<td class="tabletext">J</TD>
<td class="tabletext">K</TD>
<td class="tabletext">Qn</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">Q at previous clock step</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">1</TD>
<td class="tabletext">1</TD>
<td class="tabletext">Q_      at previous clock step</TD>
</TR>
</TABLE>
</p>
</td>
</tr>
</table>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td width="176">
<div class="caption">Table 10: The truth table for the JK flip-flop.</div>
</td>
</tr>
</table>
</td>
</tr>
</table>
Finally, let's simplify Figures 12 and 13, by adopting logic symbols for the D and JK flip-flops, as shown in Figures 14 and 15 (right), before a quick recap.
<p><a name="5"></a>
<div class="Footer" style="float: left;"><a href="#Top"><img src="/images/arttop.gif" border="0" alt="Top of page"></a></div>

<div class="xhead" id="5">An Audio Delay Line</div></p>
<p class="bodytext">If you skipped most of this article to get to this point, you've missed some pretty heady stuff. It's your loss, but we can summarise what we've learned as follows:</p>
<table width="216" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td><a href="../images/fig14dlogicsymbol.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig14dlogicsymbol.s.jpg" border="0" alt="Fig 14 - D logic symbol" border="0"></a>
<div class="caption">Figure 14: The logic symbol for the D flip-flop.</div>
</td>
</tr>
</table>
<p class="bodytextbullet"><span class="pcsibullet"><img src="../../../images/pcsBullet.gif" align="absmiddle" border="0"></span>The D flip-flop is a device that takes an input, holds it, and passes it to its output.</p>
<p class="bodytextbullet"><span class="pcsibullet"><img src="../../../images/pcsBullet.gif" align="absmiddle" border="0"></span>The JK flip-flop is a device that allows you to determine the state of its output 'Q', and either store this indefinitely, redetermine it, or toggle it, as desired.</p>
<p class="bodytext">With these two devices, we can now build a one-bit 'shift register' that allows us to determine the value of a single bit at the start of the line, and pass it through numerous elements, as shown in Figure 16 (on the next page).</p>
<p class="bodytext">Of course, in a 16-bit digital audio effects processor (which, of course, is where we came in), a delay line will require 16 such registers </p>
<table width="216" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td><a href="../images/fig15jklogicsymbol.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig15jklogicsymbol.s.jpg" border="0" alt="Fig 15 - JK logic symbol" border="0"></a>
<div class="caption">Figure 15: The logic symbol for the JK flip-flop.</div>
</td>
</tr>
</table>
<p class="bodytext">arranged in parallel, fed by the ADC on the input as discussed at the start of this article. At the far end of the delay line, a digital-to-analogue converter (DAC) will convert the data back into an analogue audio signal.</p>
<p class="bodytext">Actually, since the input value of each 'bit' will be determined by the ADC in our effects unit, we don't need to use a JK flip-flop as the first element in the delay line; we can use the simpler D flip-flops throughout (see Figure 17).</p>
<p class="bodytext">To demonstrate this, let's consider an example in which the ADC provides a '1' to one of the registers in Figure 17 on the first clock pulse, followed by three '0's. If the rest state of the D flip-flops is '0', the data will pass down the line as shown in Table 11 (on next page).</p>
<p class="bodytext">Naturally, we can expand this concept to include 16-bit information, or 24-bit, or even 64-bit, simply by adding the requisite number of parallel </p>
<table width="206" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td width="174">
<p class="bodytext">
<TABLE BORDER=0 CELLSPACING=2 ALIGN="LEFT">
<TR VALIGN=TOP>
<td class="tabletext"></TD>
<td class="tabletext">ADC</TD>
<td class="tabletext">D1</TD>
<td class="tabletext">D2</TD>
<td class="tabletext">D3</TD>
<td class="tabletext">D4</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">Initial state</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">Clock 1</TD>
<td class="tabletext">1</TD>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">Clock 2</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">Clock 3</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
<td class="tabletext">0</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">Clock 4</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">1</TD>
</TR>
<TR VALIGN=TOP>
<td class="tabletext">Clock 5</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
<td class="tabletext">0</TD>
</TR>
</TABLE>
</p>
</td>
</tr>
</table>
<table width="190" border="0" cellspacing="4" cellpadding="4">
<tr>
<td>
<div class="caption">Table 11: Passing data down a shift register.</div>
</td>
</tr>
</table>
</td>
</tr>
</table>
<p class="bodytext">registers, so in principle it is straightforward to pass high-resolution digital audio from the ADC to the DAC.</p>
<p class="bodytext">So there we have it... Figure 17 is recognisably equivalent to the BBD shown in Figure 1. As before, the signal enters the delay line through an anti-aliasing filter on the left of the diagram (although, in this case, it's part of the ADC) passes through each stage in turn, and then exits through a reconstruction filter on the right (which, in Figure 17, forms part of the DAC). And, as with the BBD, the length of the delay is determined by just two factors; the number of delay stages, and the speed of the clock that's driving the signal through the devices.</p>
<p><a name="6"></a>
<div class="Footer" style="float: left;"><a href="#Top"><img src="/images/arttop.gif" border="0" alt="Top of page"></a></div>

<div class="xhead" id="6">Epilogue</div></p>
<table width="216" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td><a href="../images/fig161bitdigdelay.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig161bitdigdelay.s.jpg" border="0" alt="Fig 16 - 1-bit dig delay" border="0"></a>
<div class="caption">Figure 16: A one-bit, four-element, digital delay line.</div>
</td>
</tr>
</table>
<p class="bodytext">It is, perhaps, harder to grasp the principles of flip-flops than it is to understand a handful of resistors, capacitors, and analogue switches, but once you have done so, the possibilities become enormous. Depending upon what additional gates and connections are added to the shift register, it is equally at home moving data from right to left as it is left to right, and will accept data in parallel and output it in parallel. Furthermore, if we were to replace all the D flip-flops in the register with JK devices, we could 'program' the value held by each one independently and, at some future point, read back any combination of these values independently. This, of course, is Random Access Memory, or RAM. Furthermore, if we were fix the levels of the inputs to the JKs, the output values would be predetermined, and we have a Read-only Memory, or ROM. </p>
<table width="416" border="0" cellspacing="4" cellpadding="4" align="right">
<tr>
<td><a href="../images/fig1716bitdelay.l.jpg" target="_blank" onmouseout="window.status='' ; return true"onmouseover="window.status='Click here to see full size image' ; return true"><img src="../images/fig1716bitdelay.s.jpg" border="0" alt="Fig 17 - 16-bit delay" border="0"></a>
<div class="caption">Figure 17: A 16-bit digital delay line.</div>
</td>
</tr>
</table>
Indeed, the concepts explained this month underlie every aspect of digital technology. From the simplest electronic switches to the 16-, 32- or even 64-bit keyboards, effects units, mixers and computers that we encounter in every walk of our musical lives... they're <em>all</em> based on these ideas.
<p class="bodytext">Let's face it, that's not bad for a bunch of zeros and ones. <a href="http://www.soundonsound.com" target="_top"><img src="file:///Sound On Sound/Web Site/SOScontent/images/sos_end.gif" alt="" height="12" width="18" align="absmiddle" border="0"></a></p><div class="Published">Published in SOS  April 2004</div></td><td valign="top" height="200" width="135" style="padding-left: 10px; border-left: solid 1px #cccccc"><span class="Small">Monday 20th February 2006</span><br /><br />
	<div style="width: 125px; padding-bottom: 10px">
	<div class="Small" style="padding: 4px; font-weight: bold; color: #ffffff; background: #000000; text-align: center">Login here</div>
	<div class="Small" style="border: 1px solid #000; padding: 5px">
		<form action="https://www.soundonsound.com/xt_Login.php" method="post">		
				<div style="margin-top: 3px">Sub PIN or Email</div>
		<div><input type="text" name="LoginID" style="width: 100px; font-size: 9px" value="" /></div>
		<div>Password</div>
		<div><input name="Password" type="password" style="width: 100px; font-size: 9px" value="" /></div>
		<div onmouseover="return escape('Tick this box to store your Email/Sub PIN only (not password) on this computer')">Remember me <input type="checkbox" name="Remember" value="1"  /></div>
		<div onmouseover="return escape('Tick this box to stay permanently logged into the site from this computer. You will need to explicitly log out in order to cancel this feature.')">Stay logged in <input type="checkbox" name="Persist" value="1"  /></div>
		<div style="padding-top: 3px; padding-bottom: 3px; text-align:center"><input type="submit" value="Login" style="font-size: 9px" /></div>
		</form>
		<div class="Small">
		<b>Forgotten your password?</b><br />
		<a href="https://www.soundonsound.com/UserAccount/ForgotPassword.php">Request a reminder</a>
		</div>
		<div class="Small" style="padding-top: 6px">
		<b>Not registered? </b><br />
		<a href="https://www.soundonsound.com/UserAccount/NewUser.php">Register Now for FREE</a>
		</div>
		<div class="Small" style="padding-top: 6px">
		<b>No https access?</b><br />
		<a href="http://www.soundonsound.com/Login.php?nohttps">Login here</a>
		</div>
	</div>
	</div>
	<script language="JavaScript" type="text/javascript" src="/include/wz_tooltip.js"></script>
	
<img src="/images/linkbullet.gif" height="7" width="7" hspace="2"><div style="position: relative; top: -10px; left: 12px"><div class="RightLink" style="padding-bottom: 10px"><a href="javascript:SwitchNav('0')">Show old-style menus</a></div></div><div class="smallblacktext"><br/>
<div class="WOB" style="letter-spacing: 2px; font-weight: bold; text-align: center">March 2006</div> 
<div style="background-color: #99CCCC; padding: 3px; border: solid 1px gray">
<div class="smallblacktext">On sale now at main newsagents and bookstores (or buy direct from the <a href="/shop">SOS Web Shop</a>)<br />
<center><a href="http://www.soundonsound.com/Contents.php"><img src="/images/FrontCover.jpg" alt="SOS current Print Magazine: click here for FULL Contents list" width="112" height="157" vspace="3" border="0"></a></center></div>
<div style="padding: 1px; font-size: 9px; text-align: center; valign: top">Click image for Contents</a></div>
<br/>
<div class="Small"><b>Other recent issues:</b><br />
<img src="/images/linkbullet.gif" height="7" width="7" hspace="4"><a href="http://www.soundonsound.com/Contents.php?Month=2&Year=2006">February 2006</a><br />
<img src="/images/linkbullet.gif" height="7" width="7" hspace="4"><a href="http://www.soundonsound.com/Contents.php?Month=1&Year=2006">January 2006</a><br />
<img src="/images/linkbullet.gif" height="7" width="7" hspace="4"><a href="http://www.soundonsound.com/Contents.php?Month=12&Year=2005">December 2005</a><br />
<img src="/images/linkbullet.gif" height="7" width="7" hspace="4"><a href="http://www.soundonsound.com/Contents.php?Month=11&Year=2005">November 2005</a><br />
<img src="/images/linkbullet.gif" height="7" width="7" hspace="4"><a href="http://www.soundonsound.com/Contents.php?Month=10&Year=2005">October 2005</a><br />

</div></div>

<br /><div align="center"><a href="http://www.soundonsound.com/shop/Product.php?ProdID=160"><img src="/images/backissuecd.gif" border="0" vspace="4" /></a></div><img src="/images/linkbullet.gif" height="7" width="7" hspace="2"><div style="position: relative; top: -10px; left: 12px"><a class="RightLink" href="javascript:OpenSite('http://www.amazon.co.uk/exec/obidos/external-search/202-9106945-3506206?mode=books&keyword=paul%2Bwhite&tag=soundonsoundmaga')">Recommended Reading: <br/>PAUL WHITE Books</a></div><div align="center"><a href="http://www.soundonsound.com/subs"><img src="/images/100x60_usasubs.gif" border="0" vspace="4" /></a></div><div class="smallgreytext"><b>Screenshots too small?</b> Click on photos, screenshots and diagrams in articles (after August 2003 issue) to open a Larger View window for detailed viewing/printing.</div><br /><div align="center"><a href="javascript:OpenSite('http://www.berkleemusic.com/?pid=857')"><img src="/images/adverts/berkleestudyproduction.gif" border="0" vspace="4" /></a></div><div align="center"><a href="javascript:OpenSite('http://www.soundonsound.com/shop/Product.php?ProdID=196')"><img src="/images/backissues_125x230.gif" border="0" vspace="4" /></a></div><br /></div></td></tr></table><br/><table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr>
	<td width="156"><img src="/images/spacer.gif" height="5" width="156" /></td>	<td width="100%">
					<div class="footer"><a href="#Top"><img src="/images/top.gif" border="0" alt="Top of page"></a></div>
			<div class="footer">
				<a href="http://www.soundonsound.com/index.php?url=//">Home</a> |
				<a href="http://www.soundonsound.com/search">Search</a> | 
				<a href="http://www.soundonsound.com/news">News</a> |
				<a href="http://www.soundonsound.com/Contents.php">Current Issue</a> | 
				<a href="http://www.soundonsound.com/articles">Articles</a> | 
				<a href="http://www.soundonsound.com/forum">Forum</a> | 
				<a href="http://www.soundonsound.com/subs">Subscribe</a> | 
				<a href="http://www.soundonsound.com/shop">Shop</a> | 
				<a href="http://www.soundonsound.com/adverts">Readers Ads</a><br />
				<img src="/images/spacer.gif" height="4" width="1" /><br />
				<a href="http://www.soundonsound.com/information/PrintAds.php">Advertise</a> | 
				<a href="http://www.soundonsound.com/information">Information</a> | 
				<a href="http://sound-on-sound2.infopop.net/2/OpenTopic?a=frm&s=215094572&f=041092264">Links</a> |
				<a href="http://www.soundonsound.com/information/SOSPrivacyPolicy.php">Privacy Policy</a>
				</div><br/>
			<div class="footer"><a href="http://www.amazon.co.uk/exec/obidos/redirect-home/soundonsoundmaga"><img src="/images/adverts/adFooter468x60.gif" border="0" alt="SAVE MONEY: click for bargain-priced DVDs, Books, Music CDs, Software and more from  Amazon.co.uk"></a></div>			<div class="footer">In association with Amazon.co.uk</div><br/>
				<div class="footer"><b>Sound On Sound, Media House, Trafalgar Way, Bar Hill, Cambridge CB3 8SQ, UK</b>. <br />
			Email: <a href="mailto:sos@soundonsound.com">sos@soundonsound.com</a> | Telephone: +44 (0)1954 789888 | Fax: +44 (0)1954 789895</div><br/>
		<div class="copyright">All contents copyright &copy; SOS Publications Group and/or its licensors, 1985-2006. 
			All rights reserved.<br />The contents of this article are subject to worldwide copyright protection and reproduction in whole or part, whether mechanical or electronic, is expressly forbidden without the prior written consent of the Publishers. Great care has been taken to ensure accuracy in the preparation of this article but neither Sound On Sound Limited nor the publishers can be held responsible for its contents. The views expressed are those of the contributors and not necessarily those of the publishers. <br /><br />Web site designed &amp; maintained by PB Associates | SOS | Relative Media</div>
				<br />
					<div class="footer">Problems with this site? <a href="http://www.soundonsound.com/support">Contact us</a></div>
			</td>
	<td><img src="/images/spacer.gif" height="1" width="146" /></td></tr>
</table>
</body>
</html>
